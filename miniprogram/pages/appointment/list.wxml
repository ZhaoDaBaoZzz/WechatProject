<view class="container">
  <!-- æ ‡ç­¾é¡µåˆ‡æ¢ -->
  <view class="tab-header">
    <view class="tab-item {{activeTab === 'upcoming' ? 'active' : ''}}" bindtap="switchTab" data-tab="upcoming">å³å°†åˆ°æ¥</view>
    <view class="tab-item {{activeTab === 'past' ? 'active' : ''}}" bindtap="switchTab" data-tab="past">å†å²é¢„çº¦</view>
  </view>

  <!-- é¢„çº¦åˆ—è¡¨ -->
  <view class="appointment-list" wx:if="{{appointments.length > 0}}">
    <view class="appointment-item apple-card" wx:for="{{appointments}}" wx:key="id">
      <view class="appointment-header">
        <view class="appointment-status {{item.statusClass}}">{{item.statusText}}</view>
        <view class="appointment-date">{{item.date}} {{item.timeSlot}}</view>
      </view>
      
      <view class="doctor-info">
        <image class="doctor-avatar" src="{{item.doctor.avatar}}" mode="aspectFill"></image>
        <view class="doctor-detail">
          <view class="doctor-name">{{item.doctor.name}}</view>
          <view class="doctor-title apple-text-secondary">{{item.doctor.title}}</view>
        </view>
      </view>
      
      <view class="appointment-type">
        <text class="type-label">å’¨è¯¢ç±»å‹ï¼š</text>
        <text class="type-value">{{item.consultType === 'online' ? 'çº¿ä¸Šå’¨è¯¢' : 'çº¿ä¸‹é¢è¯Š'}}</text>
      </view>
      
      <view class="appointment-problem">
        <text class="problem-label">å’¨è¯¢é—®é¢˜ï¼š</text>
        <text class="problem-value">{{item.problem}}</text>
      </view>
      
      <view class="appointment-actions">
        <button class="apple-button-small" wx:if="{{item.status === 0}}" bindtap="cancelAppointment" data-id="{{item.id}}">å–æ¶ˆé¢„çº¦</button>
        <button class="apple-button-small" wx:if="{{item.status === 1}}" bindtap="startConsultation" data-id="{{item.id}}">å¼€å§‹å’¨è¯¢</button>
        <button class="apple-button-small apple-button-secondary" wx:if="{{item.status === 2}}" bindtap="writeReview" data-id="{{item.id}}">è¯„ä»·</button>
      </view>
    </view>
  </view>
  
  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:else>
    <view class="empty-icon">ğŸ“…</view>
    <view class="empty-text">æš‚æ— é¢„çº¦è®°å½•</view>
    <button class="apple-button" bindtap="navigateToDoctor">å»é¢„çº¦</button>
  </view>
</view>